<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Deckter Data</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="/js/jquery.min.js"></script>
    <script src="/js/bootstrap.min.js"></script>
    <link href="/css/bootstrap.min.css" rel="stylesheet" type="text/css">
    <link href="/css/theme.css" rel="stylesheet" type="text/css">
    <link href="/css/syntax.css" rel="stylesheet" type="text/css">


</head>

<body>

<div class="container-fluid">
    <div class="row-fluid">
        <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                  <span class="sr-only">Toggle navigation</span>
                  <span class="icon-bar"></span>
                  <span class="icon-bar"></span>
                  <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="/">Deckter Data</a>
              </div>
              <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav">
                    <li class="active"><a href="/">Home</a></li>
                    <li class="active visible-xs-block"><a href="/links.html">Links</a></li>
                    <li class="active"><a href="/archive.html">Archive</a></li>
                    <li class="active"><a href="/about.html">About</a></li>
                    <!---<li class="active"><a href="/feed.xml">RSS</a></li>--->
                    
                    
                      <li class="active"><a href="https://github.com/edeckter">Github</a></li>
                    
                </ul>
              </div>
        </div>
    </div>
</div>

<div class="container container-left">
    <div class="row">
        <div class="col-md-3 hidden-xs">
            <div class="sidebar well">
Insights for a data-driven world.
</div>

<div class="sidebar well">
    <h1>Recent Posts</h1>
    <ul>
        
          <li><a href="/2019/04/monty-hall">Simulating the "Monty Hall Problem"</a></li>
        
          <li><a href="/2019/04/box-office-2018">An Examination of the US Box Office in 2018</a></li>
        
          <li><a href="/2019/04/gender-politics">Gender Politics</a></li>
        
          <li><a href="/2019/02/oscar-ratings">What Influences Oscar Ratings?</a></li>
        
          <li><a href="/2019/02/welcome-to-deckter-data">Welcome to Deckter Data!</a></li>
        
    </ul>
</div>

<div class="sidebar well">
    <h1>Data Projects</h1>
<ul>
    <li><a href="https://edeckter.github.io/2018_boxoffice/movies_2018.html">2018 Atlantic Hurricanes</a>
    <li><a href="https://edeckter.github.io/2018_boxoffice/movies_2018.html">Annual Box Office Analysis (2018)</a></li>
    <li><a href="https://edeckter.github.io/gender_in_politics/">Gender in Politics</a></li>

</ul>

</div>

<div class="sidebar well">
    <h1>Links</h1>
<ul>
  <li><a href="www.linkedin.com/in/erika-deckter-1831a4133">LinkedIn</a></li>
</ul>

</div>

        </div>
        <div class="col-md-9">
            
<div class="article">
    <div class="well">
        <h1><a href="/2019/04/monty-hall">Apr 11, 2019 - Simulating the "Monty Hall Problem"</a></h1>
        
        <div class="content">
            <p>Back when I was first learning R, I decided to write a simulation to solve the age-old “Monty Hall problem.”</p>

<p>For those of you who don’t remember the old television program <em>Let’s Make a Deal</em> hosted by Monty Hall, here is the setup.</p>

<p>You are a contestant on <em>Let’s Make a Deal</em> hosted by Monty Hall.  Monty offers you a prize hidden behind 1 of 3 doors.  Two of the doors hide a goat (joke prize) and one door hides a car.  Once you pick, Monty will reveal a goat behind one of the doors not picked.  Should you stick with your original door or switch to the remaining door?</p>

<h1 id="why-simulation">Why Simulation?</h1>
<p>While this problem can be solved with statistics, sometimes showing is better than telling.  If you simulate a large number of runs, you should reach convergence.  Simulation is a great way to get a lot of data for a given problem without having to wait to collect it in real time.  For example, if you wanted to have 10,000 years of hurricane history, you could either become immortal and wait 10,000 years, or you could run a simulation.</p>

<p>The key to simulation is to utilize randomization.  In the Monty Hall simulation, I randomize which door hides the car (door 1, 2 or 3) and then I also randomize which door the simulated contestant selects for each iteration.  This randomization avoids bias in my simulation.</p>

<h1 id="the-code">The Code</h1>
<div class="language-R highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">#Set number of simulations</span><span class="w">
</span><span class="n">n</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="m">10000</span><span class="w">

</span><span class="c1">#Create data frame for win outcome (whether you win a car or a goat)</span><span class="w">
</span><span class="n">outcome</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">data.frame</span><span class="p">(</span><span class="n">matrix</span><span class="p">(</span><span class="n">ncol</span><span class="o">=</span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="n">nrow</span><span class="o">=</span><span class="n">n</span><span class="p">))</span><span class="w">
</span><span class="nf">names</span><span class="p">(</span><span class="n">outcome</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s2">"stick"</span><span class="p">,</span><span class="s2">"switch"</span><span class="p">)</span><span class="w">

</span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="m">1</span><span class="o">:</span><span class="n">n</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="c1">#Prize vector</span><span class="w">
  </span><span class="n">prize</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s2">"goat"</span><span class="p">,</span><span class="s2">"goat"</span><span class="p">,</span><span class="s2">"goat"</span><span class="p">)</span><span class="w">

  </span><span class="c1">#Randomly place car behind one door</span><span class="w">
  </span><span class="n">prize</span><span class="p">[</span><span class="n">sample</span><span class="p">(</span><span class="m">1</span><span class="o">:</span><span class="m">3</span><span class="p">,</span><span class="m">1</span><span class="p">)]</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="s2">"car"</span><span class="w">

  </span><span class="c1">#Pick a door</span><span class="w">
  </span><span class="n">door</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">sample</span><span class="p">(</span><span class="m">1</span><span class="o">:</span><span class="m">3</span><span class="p">,</span><span class="m">1</span><span class="p">)</span><span class="w">

  </span><span class="c1">#Monty reveals a goat ("known_goat" door is the door Monty opens)</span><span class="w">
  </span><span class="n">goat_doors</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">data.frame</span><span class="p">(</span><span class="n">door</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">which</span><span class="p">(</span><span class="n">prize</span><span class="o">==</span><span class="s2">"goat"</span><span class="p">),</span><span class="w"> </span><span class="n">picked</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">which</span><span class="p">(</span><span class="n">prize</span><span class="o">==</span><span class="s2">"goat"</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">door</span><span class="p">)</span><span class="w">
  </span><span class="n">known_goat</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">ifelse</span><span class="p">(</span><span class="n">goat_doors</span><span class="o">$</span><span class="n">picked</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="o">==</span><span class="kc">FALSE</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">goat_doors</span><span class="o">$</span><span class="n">picked</span><span class="p">[</span><span class="m">2</span><span class="p">]</span><span class="o">==</span><span class="kc">FALSE</span><span class="p">,</span><span class="n">goat_doors</span><span class="o">$</span><span class="n">door</span><span class="p">[</span><span class="m">1</span><span class="p">],</span><span class="n">goat_doors</span><span class="o">$</span><span class="n">door</span><span class="p">[</span><span class="n">goat_doors</span><span class="o">$</span><span class="n">picked</span><span class="o">==</span><span class="kc">FALSE</span><span class="p">])</span><span class="w">


  </span><span class="c1">#Prize won</span><span class="w">
  </span><span class="n">outcome</span><span class="p">[</span><span class="n">i</span><span class="p">,]</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="n">prize</span><span class="p">[</span><span class="n">door</span><span class="p">],</span><span class="n">prize</span><span class="p">[</span><span class="o">-</span><span class="nf">c</span><span class="p">(</span><span class="n">door</span><span class="p">,</span><span class="n">known_goat</span><span class="p">)])</span><span class="w"> </span><span class="c1">#prize behind original door and prize behind remaining door</span><span class="w">
</span><span class="p">}</span><span class="w">

</span><span class="c1">#Calculate winning percentage for sticking with the original door vs. switching doors</span><span class="w">
</span><span class="n">win_odds</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="n">stick</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">sum</span><span class="p">(</span><span class="n">outcome</span><span class="o">$</span><span class="n">stick</span><span class="o">==</span><span class="s2">"car"</span><span class="p">)</span><span class="o">/</span><span class="n">n</span><span class="p">,</span><span class="w"> </span><span class="n">switch</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">sum</span><span class="p">(</span><span class="n">outcome</span><span class="o">$</span><span class="n">switch</span><span class="o">==</span><span class="s2">"car"</span><span class="p">)</span><span class="o">/</span><span class="n">n</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<h1 id="outcome">Outcome</h1>
<p>The bar chart below shows the percentage of simulations the car is won depending on whether the contestant decided to stick with the original door choice or switch to the other door.</p>

<p><img src="/images/monty_hall.jpeg" /></p>

<p>As you can see, you are twice as likely to win if you switch doors after Monty reveals a goat!</p>


        </div>
    </div>
</div>

<div class="article">
    <div class="well">
        <h1><a href="/2019/04/box-office-2018">Apr 10, 2019 - An Examination of the US Box Office in 2018</a></h1>
        
        <div class="content">
            <script type="text/javascript" src="/js/d3.js"></script>

<p>I was tasked with creating an interactive visualization for my Data Visualization class.  For this project, I decided to create data visualizations that would allow a user to explore the box office results for 2018.</p>

<h1 id="data-preparation">Data Preparation</h1>
<p>US domestic box office gross sales were pulled for every movie for every day in 2018 using the boxoffice package in R.  Data were pulled from <a href="http://www.the-numbers.com">the-numbers</a> website.  Supplemental information on each film released in 2018 (such as MPAA rating and IMDB rating) were pulled from the <a href="http://www.imdb.com">Internet Movie Database</a> using the <a href="https://imdbpy.sourceforge.io/">IMDbPy</a> package in Python.</p>

<p>Once the data had been pulled through the R and Python APIs, Excel was used to manipulate and aggregate the data.  The data files were saved in csv formats for use in the visualizations.</p>

<h1 id="visualization">Visualization</h1>
<p>I chose to use D3 for my visualizations because (a) it allowed the most flexibility in design and layout of my visualizations and (b) it was a great opportunity to practice (and expand) my new D3 skills.</p>

<p>The main component of this project is an area chart, showing the US domestic box office for each day in 2018.</p>
<div class="section" id="movies_viz"></div>
<script type="text/javascript" src="/js/movies_area.js"></script>

<p>The full project can be found <a href="https://edeckter.github.io/2018_boxoffice/movies_2018.html">here</a>.</p>


        </div>
    </div>
</div>

<div class="article">
    <div class="well">
        <h1><a href="/2019/04/gender-politics">Apr 10, 2019 - Gender Politics</a></h1>
        
        <div class="content">
            <script type="text/javascript" src="/js/d3.js"></script>

<p>I was reading <a href="https://www.theatlantic.com/magazine/archive/2019/01/authoritarian-sexism-trump-duterte/576382/">this</a><sup id="fnref:1"><a href="#fn:1" class="footnote">1</a></sup> article in <a href="https://www.theatlantic.com">The Atlantic</a>, and I was struck by the statistics near the end of the article.  Particularly, this section:</p>
<blockquote>
  <p>In 2018, the Organization for Economic Cooperation and Development published the amount of time per day that women and men spent doing unpaid household chores such as cleaning, shopping, and child care. If you calculate the gender gap in each country, a pattern emerges. There is a striking correlation between countries where women and men behave more equally in the home and countries where women are more equally represented in government. Take Sweden, 44 percent of whose parliamentarians are women. There, the gap between the amount of housework done by men and that done by women is less than an hour a day. In the U.S., where women will soon make up roughly 23 percent of Congress, the housework gender gap is an hour and a half. In Hungary, where women account for 10 percent of parliament, it is well over two hours.</p>
</blockquote>

<p>I decided to take a page out of Alberto Cairo’s book and create some visualizations from the raw OECD data cited in the article.  (Cairo literally did a similar exercise in Chapter 1 of his book <a href="http://www.thefunctionalart.com/p/about-book.html">The Functional Art</a>.  He takes inspiration from fertility statistics in <em>The Rational Optimist: How Prosperity Evolves</em> by Matt Ridley to create visualizations that verify the Ridley’s claims.)</p>

<p>First, I looked went to the <a href="https://data.oecd.org/">OECD</a> website to get the raw data for the amount of <a href="https://stats.oecd.org/index.aspx?queryid=54757">unpaid work performed by gender</a> and the <a href="https://data.oecd.org/inequality/women-in-politics.htm">number of female legislators</a> in each reported country.</p>

<p>I am learning <a href="https://d3js.org/">D3.js</a> and I thought this project would be a good way to try out my new skills and create some fun interactive visualizations.</p>

<p>I decided to start out with an interactive map, to visually compare unpaid work performed by men and women between the ages of 15 and 64.</p>
<div class="drop-down" id="map"></div>
<div class="section" id="viz1"></div>
<script type="text/javascript" src="/js/gender_map.js"></script>

<p>The bar chart below is a side-by-side comparison of the percentage of unpaid work performed by women and the percent of female parliamentarians for each country.</p>

<div class="drop-down" id="chart">Sort by: </div>
<div class="section" id="viz2"></div>
<script type="text/javascript" src="/js/gender_barchart.js"></script>

<p>Around the world, women are still doing more than half of all unpaid household work.  But while the sortable bar chart is nice, it is difficult to see the “striking correlation” referenced in <em>The Atlantic</em> article in this visualization.</p>

<p>This same data can be visualized in another way using a scatterplot.</p>

<div class="section" id="viz3"></div>
<script type="text/javascript" src="/js/gender_scatterplot.js"></script>

<p>Now we can see that for countries where there is a more equitable division of household labor, there is a noticeably larger proportion of female legislators.</p>

<p>And indeed, there is a correlation of -0.54 between the two variables.  The linear regression analysis has an R<sup>2</sup> value of 0.29, which means that the percent of domestic labor done by women explains about 30% of the total variance in the number of women legislators by country.  So this isn’t the whole story, but it is certainly a part of it.</p>

<hr />

<div class="footnotes">
  <ol>
    <li id="fn:1">
      <p><a href="https://www.theatlantic.com/magazine/archive/2019/01/authoritarian-sexism-trump-duterte/576382/">The New Authoritarians Are Waging War on Women</a> by Peter Beinart.  Published in the January/February 2019 issue. <a href="#fnref:1" class="reversefootnote">&#8617;</a></p>
    </li>
  </ol>
</div>

        </div>
    </div>
</div>

<div class="article">
    <div class="well">
        <h1><a href="/2019/02/oscar-ratings">Feb 21, 2019 - What Influences Oscar Ratings?</a></h1>
        
        <div class="content">
            <p>In anticipation of the Academy Awards this weekend, I did an analysis to investigate what factors influence ratings of the telecast.  I performed this analysis using R and the <a href="https://ggplot2.tidyverse.org/">ggplot2</a> package for creating the visualizations.</p>

<p>The Academy of Motion Pictures Arts and Sciences (AMPAS) has been giving out the Academy Awards, also known as the Oscars, for the last 90 years.  In the last decade, the Academy has made a number of changes to the awards and ceremony in an effort to maintain cultural relevance, including announcing (and then quickly retracting) a new “Best Popular Film” category in 2018.  The idea of this new category prompted me to investigate the following research question: What factors influence the ratings of the annual Oscars telecast?</p>

<p>Why ratings?  The more people (specifically Americans in this investigation) watch a live event on television, the more likely that event is to dominate the cultural conversation in the time period around the event.  In addition, ratings can be equated pretty easily into revenue.  ABC currently has the rights to broadcast the Oscars telecast in the US through 2028.  The higher the anticipated ratings, the more ABC can charge for advertising during the broadcast.  And in turn ABC’s expected ad revenue sets the price the network pays to AMPAS for the broadcast rights.</p>

<p>Before we get started looking at what influences rates, let’s look at how the ratings have changed year-over-year from 2001 to 2018.</p>

<p><img src="/images/oscars_yoy.jpeg" /></p>

<p>And now we can compare the Oscar ratings to ratings to other awards shows and even sports (the Summer and Winter Olympics opening ceremony).</p>

<p><img src="/images/ratings_comparison.jpeg" /></p>

<h1 id="factors-contributing-to-oscar-ratings">Factors Contributing to Oscar Ratings</h1>
<p>One possible factor in the decline of live network television ratings is the rise of streaming.  This next visualization compares the Oscar ratings from 2011 through 2018 with the number of Netflix subscribers in the US over the same period.</p>

<p><img src="/images/oscars_vs_netflix.jpeg" /></p>

<p>So, are people even going to the movies anymore?  And if they are, does that have an impact on Oscar ratings?  To answer this question, I looked at the overall movie ticket sales for the year prior to each Oscar telecast and compared that to ratings.</p>

<p><img src="/images/box_office.jpeg" /></p>

<p>There is enough evidence of a correlation that this trend warrants further investigation.</p>

<p>Finally, I looked at the specific box office performance of the movies nominated for Best Picture.  First, I trended the domestic gross box office to 2018 US dollars.  Then I looked at which years had at least one Best Picture that made over $200M at the box office.</p>

<p><img src="/images/ratings_boxplot.jpeg" /></p>

<p>There is certainly reason to believe that nominating movies many people have seen will increase the ratings of the Oscar telecast.  So maybe the “Popular Film” category wasn’t such a bad idea after all.</p>

<h1 id="future-research">Future Research</h1>
<p>While I examined a number of factors that might influence Oscar ratings in this post, there are many other potential factors.  Here is a sample of other factors to investigate in the future:</p>
<ul>
  <li>Choice of Oscar host (or no host as we will have in 2019)</li>
  <li>Musical performances on the telecast (and the related Best Original Song category)</li>
  <li>Genres of nominated films</li>
  <li>Diversity of nominees (e.g., #OscarsSoWhite)</li>
  <li>Total number of films represented in nominees (Are there a few films with all the nominations or is it more evenly spread across many films?)</li>
  <li>Cultural factors (such as politics and campaigns like #MeToo)</li>
  <li>Release dates of nominees (e.g., summer vs. winter release)</li>
  <li>Availability of nominees on streaming/DVD prior to the awards ceremony</li>
</ul>

<h1 id="data-sources">Data Sources</h1>
<p>The primary source for the ratings information is Nielsen; however, I obtained the actual data through a number of secondary sources.  Statistica was used to collect the <a href="http://www.statista.com/statistics/253743/academy-awards--number-of-viewers/">Oscars</a>, <a href="http://www.statista.com/statistics/266669/golden-globes--number-of-viewers/">Golden Globes</a> and <a href="http://www.statista.com/statistics/260428/emmy-awards--number-of-viewers/">Emmys</a> ratings, as well as the Olympics opening ceremony ratings (both <a href="http://www.statista.com/statistics/237448/viewers-of-the-summer-olympics-opening-ceremony-in-the-us/">Summer</a> and <a href="http://www.statista.com/statistics/587463/winter-olympics-opening-ceremony-number-viewers-usa/">Winter</a>).  Ratings for the Grammy Awards were found at TV by the Numbers <a href="http://tvbythenumbers.zap2it.com/reference/grammy-awards-tv-ratings/40427/">here</a>, <a href="http://tvbythenumbers.zap2it.com/more-tv-news/the-grammys-are-having-a-pretty-good-decade-in-the-ratings/">here</a> and <a href="http://tvbythenumbers.zap2it.com/daily-ratings/tv-ratings-sunday-jan-28-2018/">here</a> and <a href="http://www.forbes.com/sites/bizblog/2010/02/01/grammy-ratings-soar/#370a185b7a17">Forbes</a>.  Netflix subscriber information was found at <a href="http://www.recode.net/2018/1/22/16920150/netflix-q4-2017-earnings-subscribers">Recode</a>.</p>

<p>Historical information on Oscar Best Picture nominees was accessed from the <a href="http://awardsdatabase.oscars.org/">Official Academy Awards Database</a> with additional information about each film coming from <a href="http://www.imdb.com">IMDB</a>.  Box office figures were from <a href="https://www.boxofficemojo.com/yearly/">Box Office Mojo</a> and <a href="http://www.kaggle.com/eliasdabbas/boxofficemojo-alltime-domestic-data">Kaggle</a> (although I did spot-check the formatted data from Kaggle from the original Box Office Mojo source).  All box office values were trended to 2018 US dollars, using inflation data from the Federeal Reserve Bank of Minneapolis <a href="http://www.minneapolisfed.org/community/financial-and-economic-education/cpi-calculator-information/consumer-price-index-and-inflation-rates-1913">website</a>.</p>

<p>A note on year: The Oscars telecast airs in February/March and awards movies that were released in the previous calendar year.  For example, the Oscars that are set to air on February 24, 2019 will give out awards for movies released in 2018.  In order to remain consistent with ratings information, the year for all nominated films has been aligned with the year of the corresponding telecast (e.g., box office figures for the year “2000” in all visualizations correspond to movies released during the 1999 calendar year).</p>

        </div>
    </div>
</div>

<div class="article">
    <div class="well">
        <h1><a href="/2019/02/welcome-to-deckter-data">Feb 21, 2019 - Welcome to Deckter Data!</a></h1>
        
        <div class="content">
            <p>This site is dedicated to my love of all things data!</p>

<h1 id="about-me">About me</h1>
<p>I am a master’s candidate in Business Intelligence &amp; Analytics at Stevens Institute of Technology.  I have 14 years of professional experience in the insurance industry, primarily as a catastrophe modeling analyst, but also in IT operations and cybersecurity.</p>

<p>Check me out on <a href="https://www.linkedin.com/in/erika-deckter-1831a4133">LinkedIn</a></p>

        </div>
    </div>
</div>


<div class="pagination">
  
  <span class="page_number ">Page: 1 of 1</span>
  
</div>

        </div>
    </div>
</div>

<div class="container-fluid">
    <div class="row-fluid">
        <div class="span12 footer navbar-inverse navbar-fixed-bottom">
            <p class="copyright">&copy;2019 Erika Deckter. Powered by <a href="http://jekyllrb.com">Jekyll</a>, using the <a href="https://github.com/scotte/jekyll-clean">Jekyll Clean theme</a>.
        </div>
    </div>
</div>






</body>
</html>

